I"ã<h2 id="manage-images">Manage images</h2>

<h3 id="docker-build"><code class="language-plaintext highlighter-rouge">docker build</code></h3>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">docker build [options] .</span>
  <span class="s">-t "app/container_name"</span>    <span class="c1"># name</span>
  <span class="s">--build-arg APP_HOME=$APP_HOME</span>    <span class="c1"># Set build-time variables</span>
</code></pre></div></div>

<p>Create an <code class="language-plaintext highlighter-rouge">image</code> from a Dockerfile.</p>

<h3 id="docker-run"><code class="language-plaintext highlighter-rouge">docker run</code></h3>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">docker run [options] IMAGE</span>
  <span class="s"># see `docker create` for options</span>
</code></pre></div></div>

<h4 id="example">Example</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker run -it debian:buster /bin/bash
</code></pre></div></div>
<p>Run a command in an <code class="language-plaintext highlighter-rouge">image</code>.</p>

<h2 id="manage-containers">Manage containers</h2>

<h3 id="docker-create"><code class="language-plaintext highlighter-rouge">docker create</code></h3>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">docker create [options] IMAGE</span>
  <span class="s">-a, --attach</span>               <span class="c1"># attach stdout/err</span>
  <span class="s">-i, --interactive</span>          <span class="c1"># attach stdin (interactive)</span>
  <span class="s">-t, --tty</span>                  <span class="c1"># pseudo-tty</span>
      <span class="s">--name NAME</span>            <span class="c1"># name your image</span>
  <span class="s">-p, --publish 5000:5000</span>    <span class="c1"># port map (host:container)</span>
      <span class="s">--expose </span><span class="m">5432</span>          <span class="c1"># expose a port to linked containers</span>
  <span class="s">-P, --publish-all</span>          <span class="c1"># publish all ports</span>
      <span class="s">--link container:alias</span> <span class="c1"># linking</span>
  <span class="s">-v, --volume `pwd`:/app</span>    <span class="c1"># mount (absolute paths needed)</span>
  <span class="s">-e, --env NAME=hello</span>       <span class="c1"># env vars</span>
</code></pre></div></div>

<h4 id="example-1">Example</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker create --name app_redis_1 \
  --expose 6379 \
  redis:3.0.2
</code></pre></div></div>

<p>Create a <code class="language-plaintext highlighter-rouge">container</code> from an <code class="language-plaintext highlighter-rouge">image</code>.</p>

<h3 id="docker-exec"><code class="language-plaintext highlighter-rouge">docker exec</code></h3>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">docker exec [options] CONTAINER COMMAND</span>
  <span class="s">-d, --detach</span>        <span class="c1"># run in background</span>
  <span class="s">-i, --interactive</span>   <span class="c1"># stdin</span>
  <span class="s">-t, --tty</span>           <span class="c1"># interactive</span>
</code></pre></div></div>

<h4 id="example-2">Example</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker exec app_web_1 tail logs/development.log
$ docker exec -t -i app_web_1 rails c
</code></pre></div></div>

<p>Run commands in a <code class="language-plaintext highlighter-rouge">container</code>.</p>

<h3 id="docker-start"><code class="language-plaintext highlighter-rouge">docker start</code></h3>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">docker start [options] CONTAINER</span>
  <span class="s">-a, --attach</span>        <span class="c1"># attach stdout/err</span>
  <span class="s">-i, --interactive</span>   <span class="c1"># attach stdin</span>

<span class="s">docker stop [options] CONTAINER</span>
</code></pre></div></div>

<p>Start/stop a <code class="language-plaintext highlighter-rouge">container</code>.</p>

<h3 id="docker-ps"><code class="language-plaintext highlighter-rouge">docker ps</code></h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker ps
$ docker ps -a
$ docker kill $ID
</code></pre></div></div>

<p>Manage <code class="language-plaintext highlighter-rouge">container</code>s using ps/kill.</p>

<h3 id="docker-logs"><code class="language-plaintext highlighter-rouge">docker logs</code></h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ docker logs $ID
$ docker logs $ID 2&gt;&amp;1 | less
$ docker logs -f $ID # Follow log output
</code></pre></div></div>

<p>See whatâ€™s being logged in an <code class="language-plaintext highlighter-rouge">container</code>.</p>

<h2 id="images">Images</h2>

<h3 id="docker-images"><code class="language-plaintext highlighter-rouge">docker images</code></h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker images
  REPOSITORY   TAG        ID
  ubuntu       12.10      b750fe78269d
  me/myapp     latest     7b2431a8d968
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker images <span class="nt">-a</span>   <span class="c"># also show intermediate</span>
</code></pre></div></div>

<p>Manages <code class="language-plaintext highlighter-rouge">image</code>s.</p>

<h3 id="docker-rmi"><code class="language-plaintext highlighter-rouge">docker rmi</code></h3>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">docker rmi b750fe78269d</span>
</code></pre></div></div>

<p>Deletes <code class="language-plaintext highlighter-rouge">image</code>s.</p>

<h2 id="clean-up">Clean up</h2>

<h3 id="clean-all">Clean all</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker system prune
</code></pre></div></div>

<p>Cleans up dangling images, containers, volumes, and networks (ie, not associated with a container)</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker system prune <span class="nt">-a</span>
</code></pre></div></div>

<p>Additionally remove any stopped containers and all unused images (not just dangling images)</p>

<h3 id="containers">Containers</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Stop all running containers</span>
docker stop <span class="si">$(</span>docker ps <span class="nt">-a</span> <span class="nt">-q</span><span class="si">)</span>

<span class="c"># Delete stopped containers</span>
docker container prune
</code></pre></div></div>

<h3 id="images-1">Images</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker image prune <span class="o">[</span><span class="nt">-a</span><span class="o">]</span>
</code></pre></div></div>

<p>Delete all the images</p>

<h3 id="volumes">Volumes</h3>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker volume prune
</code></pre></div></div>

<p>Delete all the volumes</p>

<h2 id="also-see">Also see</h2>

<ul>
  <li><a href="http://www.docker.io/gettingstarted/">Getting Started</a> <em>(docker.io)</em></li>
</ul>
:ET