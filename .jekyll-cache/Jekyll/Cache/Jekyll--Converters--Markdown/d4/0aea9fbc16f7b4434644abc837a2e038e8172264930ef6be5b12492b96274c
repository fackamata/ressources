I"<h2 id="configure-database">configure database</h2>

<p>in .env, put the name of the database. As well as username and password</p>

<h2 id="install-laravelbreeze">install laravel/breeze</h2>

<p>nous permet dâ€™utiliser un system dâ€™authentification</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>composer require laravel/breeze <span class="nt">--dev</span>
</code></pre></div></div>

<p>maintenant on peut utiliser la commande</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php artisan breeze:install
</code></pre></div></div>

<p>nous a crÃ©Ã© toutes les class de lâ€™authentification dans <code class="language-plaintext highlighter-rouge">app/Http/Auth/</code>, ainsi que les vues correspondantes dans <code class="language-plaintext highlighter-rouge">ressources/views/auth/</code></p>

<p>cette commande nous crÃ©Ã© le fichier routes/auth.php, oÃ¹ on retrouve un certain nombre de route utile Ã  lâ€™authentification</p>

<p>on peut voir ces routes avec la commande:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php artisan route:list
</code></pre></div></div>

<p>pour utiliser complÃ¨tement ce systÃ¨me dâ€™authentification, il faut compiler les assets et installer les diffÃ©rentes dÃ©pendances Front</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="o">&amp;&amp;</span> npm run dev
</code></pre></div></div>

<p>npm install : pour installer
npm run dev : pour compiler</p>

<h2 id="migrer-les-tables">migrer les tables</h2>

<p>aprÃ¨s avoir crÃ©er une base de donnÃ©e, on migre</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php artisan migrate
</code></pre></div></div>

<h2 id="midleware">midleware</h2>

<p>pour gÃ©rer lâ€™accÃ¨s Ã  certaine vue et obligÃ© lâ€™authentification pour y accÃ©der</p>

<p>le middleware va courcircuiter notre requete HTTP</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">function</span> <span class="n">__construct</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">middleware</span><span class="p">(</span><span class="s1">'auth'</span><span class="p">)</span><span class="o">-&gt;</span><span class="nf">except</span><span class="p">([</span><span class="s1">'bar'</span><span class="p">,</span> <span class="s1">'test'</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>lâ€™ajout du middleware auth dans le constructeur de notre Controller test oblige lâ€™utilisateur Ã  Ãªtre connectÃ© pour accÃ©der au page dÃ©sservie par le controlleur Test</p>

<p>si on nâ€™est pas connectÃ©, on est renvoyer Ã  la page login. On peut modifier cette redirection dans le fichier  <code class="language-plaintext highlighter-rouge">App\Http\Middleware\Authenticate.php</code></p>

<p>on peut autoriser des routes sans login avec la fonction except.</p>

<h2 id="accÃ¨s-depuis-la-vue">accÃ¨s depuis la vue</h2>

<h3 id="seulement-si-authentifier">seulement si authentifier</h3>

<div class="language-twig highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@auth
    <span class="cp">{{</span> <span class="nv">Auth</span><span class="err">::</span><span class="nv">user</span><span class="p">()</span><span class="o">-&gt;</span><span class="nv">name</span> <span class="cp">}}</span>  // pour rÃ©cupÃ©rer le nom de l'utilisateur
    <span class="cp">{{</span> <span class="nv">Auth</span><span class="err">::</span><span class="nv">user</span><span class="p">()</span><span class="o">-&gt;</span><span class="nv">id</span> <span class="cp">}}</span>  // pour rÃ©cupÃ©rer l'id de l'utilisateur
    ....
@endauth
</code></pre></div></div>

<p>le contenu Ã  lâ€™intÃ©rieur de ses balises blade sera visible seulement si lâ€™utilisateur est connectÃ©</p>

<h2 id="si-non-authenfifier">si non authenfifier</h2>

<div class="language-twig highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@guest
    'Vous n'Ãªtes pas connectÃ©'
@endguest
</code></pre></div></div>

<p>le contenu Ã  lâ€™intÃ©rieur de ses balises blade sera visible seulement si lâ€™utilisateur nâ€™est pas connectÃ©</p>
:ET